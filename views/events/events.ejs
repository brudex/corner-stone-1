<%- include('../partials/navbar.ejs') %> <%-
include('../partials/response-message.ejs') %>

<div class="pt-32pt">
  <div
    class="
      container
      page__container
      d-flex
      flex-column flex-md-row
      align-items-center
      text-center text-sm-left
    "
  >
    <div
      class="
        flex
        d-flex
        flex-column flex-sm-row
        align-items-center
        mb-24pt mb-md-0
      "
    >
      <div class="mb-24pt mb-sm-0 mr-sm-24pt">
        <h2 class="mb-0">Events</h2>

        <ol class="breadcrumb p-0 m-0">
          <li class="breadcrumb-item"><a href="/">Home</a></li>
        </ol>
      </div>
    </div>

    <div class="row" role="tablist">
      <div class="col-auto">
        <a href="/events/add" class="btn btn-outline-secondary">Add Event</a>
      </div>
    </div>
  </div>
</div>

<div class="container page__container page__container page-section">
  <div class="page-separator">
    <div class="page-separator__text">Overview</div>
  </div>

  <div class="row card-group-row mb-lg-8pt">
    <% events.forEach(event => {%>
    <div class="col-lg-4 card-group-row__col">
      <div
        class="
          card card-sm card--elevated
          p-relative
          o-hidden
          overlay overlay--primary-dodger-blue
          js-overlay
          card-group-row__card
        "
        data-toggle="popover"
        data-trigger="click"
        data-original-title=""
        title=""
        data-domfactory-upgraded="overlay"
      >
        <a
          href="#"
          class="card-img-top js-image"
          data-position="center"
          data-height="140"
          data-domfactory-upgraded="image"
          style="
            display: block;
            position: relative;
            overflow: hidden;
            background-image: url('/uploads/<%=event.imageBanner%>');
            background-size: cover;
            background-position: center center;
            height: 230px;
          "
        ></a>

        <div class="card-body flex">
          <div class="d-flex">
            <div class="flex">
              <a class="card-title" href="#"><%=event.title%></a>
              <small class="text-50 font-weight-bold mb-4pt"
                >Venue: <%=event.eventVenue%></small
              >
            </div>
            <a
              href="#"
              data-toggle="tooltip"
              data-title="See more"
              data-placement="top"
              data-boundary="window"
              class="ml-4pt material-icons text-20 card-course__icon-favorite"
              data-original-title=""
              title=""
              >zoom_in</a
            >
          </div>
        </div>
        <div class="card-footer">
          <div class="row justify-content-between">
            <div class="col-auto d-flex align-items-center">
              <span class="material-icons icon-16pt text-50 mr-4pt"
                >access_time</span
              >
              <p class="flex text-50 lh-1 mb-0">
                <small>Time: <%=event.eventTime%></small>
              </p>
            </div>
            <div class="col-auto d-flex align-items-center">
              <span class="material-icons icon-16pt text-50 mr-4pt">event</span>
              <p class="flex text-50 lh-1 mb-0">
                <small
                  >Date: <%= new Date(event.eventDate).toDateString()%></small
                >
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="popoverContainer d-none">
        <div class="media">
          <div class="media-left mr-12pt">
            <img
              src="/uploads/<%=event.imageBanner%>"
              width="40"
              height="40"
              alt="Event banner"
              class="rounded"
            />
          </div>
          <div class="media-body">
            <div class="card-title mb-0"><%=event.title%></div>
            <!-- <p class="lh-1 mb-0">
              <span class="text-50 small">with</span>
              <span class="text-50 small font-weight-bold">Elijah Murray</span>
            </p> -->
          </div>
        </div>

        <p class="my-16pt text-70"><%=event.description%></p>

        <!-- <div class="mb-16pt">
          <div class="d-flex align-items-center">
            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
            <p class="flex text-50 lh-1 mb-0">
              <small>Fundamentals of working with Angular</small>
            </p>
          </div>
          <div class="d-flex align-items-center">
            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
            <p class="flex text-50 lh-1 mb-0">
              <small>Create complete Angular applications</small>
            </p>
          </div>
          <div class="d-flex align-items-center">
            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
            <p class="flex text-50 lh-1 mb-0">
              <small>Working with the Angular CLI</small>
            </p>
          </div>
          <div class="d-flex align-items-center">
            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
            <p class="flex text-50 lh-1 mb-0">
              <small>Understanding Dependency Injection</small>
            </p>
          </div>
          <div class="d-flex align-items-center">
            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
            <p class="flex text-50 lh-1 mb-0">
              <small>Testing with Angular</small>
            </p>
          </div>
        </div> -->

        <div class="my-32pt">
          <div class="d-flex align-items-center mb-8pt justify-content-center">
            <div class="d-flex align-items-center mr-8pt">
              <span class="material-icons icon-16pt text-50 mr-4pt"
                >access_time</span
              >
              <p class="flex text-50 lh-1 mb-0">
                <small><%=event.eventTime%></small>
              </p>
            </div>
            <div class="d-flex align-items-center">
              <span class="material-icons icon-16pt text-50 mr-4pt">event</span>
              <p class="flex text-50 lh-1 mb-0">
                <small><%= new Date(event.eventDate).toDateString()%></small>
              </p>
            </div>
          </div>
          <div class="d-flex align-items-center justify-content-center">
            <a
              href="/events/edit/<%=event.id%>"
              class="btn btn-outline-secondary mr-8pt"
              ><i class="material-icons icon--left">edit</i>Edit</a
            >
            <a href="/events/delete/<%=event.id%>" class="btn btn-danger ml-0"
              ><i class="material-icons icon--left">delete</i>delete</a
            >
          </div>
        </div>
      </div>
    </div>
    <%})%>
  </div>
  <%if (events.length === 0) {%>
  <div
    class="row d-flex justify-content-center align-items-center"
    style="height: 350px"
  >
    <h4>You do not have any events</h4>
  </div>
  <%}%>
</div>

<%- include('../partials/drawer.ejs') %>
